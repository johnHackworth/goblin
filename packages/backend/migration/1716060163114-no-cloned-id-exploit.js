export class noClonedIdExploit1716060163114 {
  constructor() {
    this.name = "noClonedIdExploit1716060163114";
  }

  async up(queryRunner) {
    await queryRunner.query(
      `ALTER TABLE "note" ADD CONSTRAINT "CHK_renote_id" CHECK ( "id" <> "renoteId")`
    );
    await queryRunner.query(
      `ALTER TABLE "note" ADD CONSTRAINT "CHK_reply_id" CHECK ( "id" <> "replyId")`
    );
  }
  async down(queryRunner) {
    await queryRunner.query(
      `ALTER TABLE "user" DROP CONSTRAINT "CHK_renote_id"`,
    );
    await queryRunner.query(
      `ALTER TABLE "user" DROP CONSTRAINT "CHK_reply_id"`,
    );
  }
}
